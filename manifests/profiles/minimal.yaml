# The minimal profile will install just the core control plane
apiVersion: install.istio.io/v1alpha1
kind: IstioOperator
spec:
  components:
    ingressGateways:

  addonComponents:
    prometheus:
      enabled: false

  values:
    global:
      # disable config validation webhook configuration
      configValidation: false
      # disable sidecar injector mutating webhook configuration
      operatorManageWebhooks: true

    # disable telemetry v1 and v2
    telemetry:
      enabled: false
      v1:
        enabled: false
      v2:
        enabled: false
        prometheus:
          enabled: false
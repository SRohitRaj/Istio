enablePrometheusMerge: true
trustDomain: ${TRUST_DOMAIN}
trustDomainAliases:
  - cluster.local

configSources:
  - address: k8s://
  - address: fs:///var/lib/istio/config/data

# Locality LB is not enabled by default in ASM
# Users can enable it from DestinationRule
localityLbSetting:
  enabled: false

defaultConfig:
  proxyMetadata:
    XDS_ROOT_CA: /etc/ssl/certs/ca-certificates.crt
    CA_ROOT_CA: /etc/ssl/certs/ca-certificates.crt
    OUTPUT_CERTS: /etc/istio/proxy
    TRUST_DOMAIN: ${TRUST_DOMAIN}
    XDS_AUTH_PROVIDER: ${XDS_AUTH_PROVIDER}
    ISTIO_META_CLOUDRUN_ADDR: ${CLOUDRUN_ADDR}

  meshId: proj-${PROJECT_NUMBER}
  discoveryAddress: "${XDS_ADDR}"
  tracing: {}

#
# pilot configuration
#
enabled: true
replicaCount: 1
autoscaleMin: 1
autoscaleMax: 5
image: pilot
sidecar: true
traceSampling: 100.0
# Resources for a small pilot install
resources:
  requests:
    cpu: 500m
    memory: 2048Mi
podDisruptionBudget: {}
  # minAvailable: 1
  # maxUnavailable: 1
env:
  PILOT_PUSH_THROTTLE_COUNT: 100
  GODEBUG: gctrace=2
cpu:
  targetAverageUtilization: 80
nodeSelector: {}
# Provide options to allow user to configure JWT related fields.
# Values below are in time.Duration type.
jwksCacheOptions:
  # JwksURI Cache expiration time duration, individual cached JwksURI item will be removed
  # from cache after its duration expires.
  uriCacheExpiration: 24h
  # pubKeyExpireDuration is the expire duration for JWT public key in the cache.
  # After this duration expire, refresher job will fetch key for the cached item again.
  pubKeyExpireDuration: 1h
  # pubKeyRefreshInterval is the running interval of JWT pubKey refresh job.
  pubKeyRefreshInterval: 20m

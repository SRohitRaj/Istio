apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  name: hello
spec:
  selector:
    matchLabels:
      app: hello
  strategy: {}
  template:
    metadata:
      annotations:
        foo: bar
        inject.istio.io/templates: custom
        prometheus.io/path: /stats/prometheus
        prometheus.io/port: "15020"
        prometheus.io/scrape: "true"
        proxy.istio.io/overrides: '{"containers":[{"name":"hello","image":"fake.docker.io/google-samples/hello-go-gke:1.0","resources":{}}]}'
        sidecar.istio.io/status: '{"initContainers":null,"containers":["hello"],"volumes":["some-injected-file"],"imagePullSecrets":null}'
      creationTimestamp: null
      labels:
        app: hello
    spec:
      containers:
      - env:
        - name: SOME_ENV
          value: "true"
        - name: SOME_FILE
          value: /var/lib/data/foo.json
        image: fake.docker.io/google-samples/hello-go-gke:1.0
        name: hello
        resources: {}
        volumeMounts:
        - mountPath: /var/lib/data/foo.json
          name: some-injected-file
          subPath: foo.json
      volumes:
      - downwardAPI:
          items:
          - fieldRef:
              fieldPath: metadata.annotations['foo']
            path: foo.json
        name: some-injected-file
status: {}
---

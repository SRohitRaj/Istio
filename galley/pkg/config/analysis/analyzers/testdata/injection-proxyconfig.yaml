# Namespace 'foo' has istio injection enabled, so will be enforced.
apiVersion: v1
kind: Namespace
metadata:
  labels:
    istio-injection: enabled
  name: foo
---
# Details-v1-pod's PROXY_CONFIG has the same value as mesh configmap.
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: details
  name: details-v1-pod
  namespace: foo
spec:
  containers:
  - image: docker.io/istio/examples-bookinfo-details-v1:1.15.0
    name: details
  - image: docker.io/istio/proxyv2:1.3.0
    name: istio-proxy
    env:
    - name: PROXY_CONFIG
      value: |
        {"tracing":{"zipkin":{"address":"jaeger-collector.istio-system.svc.cluster.local:9411"}}}
---
# Details-v2-pod's PROXY_CONFIG has not the same value as mesh configmap.
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: details
  name: details-v2-pod
  namespace: foo
spec:
  containers:
  - image: docker.io/istio/examples-bookinfo-details-v2:1.15.0
    name: details
  - image: docker.io/istio/proxyv2:1.3.0
    name: istio-proxy
    env:
    - name: PROXY_CONFIG
      value: |
        {"tracing":{"zipkin":{"address":"jaeger-collector.istio-system.svc.cluster.local:14268"}}}
